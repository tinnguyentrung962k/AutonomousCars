{"ast":null,"code":"import flattenStyle from \"./flattenStyle\";\nfunction compareNumbers(a, b) {\n  return a - b;\n}\nfunction notNull(value) {\n  return value !== null;\n}\nfunction parsePosition(value) {\n  if (value === 'from') {\n    return 0;\n  }\n  if (value === 'to') {\n    return 1;\n  }\n  var parsed = parseFloat(value, 10);\n  if (Number.isNaN(parsed) || parsed < 0 || parsed > 1) {\n    return null;\n  }\n  return parsed;\n}\nvar cache = {};\nexport default function createAnimation(definition) {\n  var cacheKey = JSON.stringify(definition);\n  if (cache[cacheKey]) {\n    return cache[cacheKey];\n  }\n  var positions = Object.keys(definition).map(parsePosition).filter(notNull);\n  positions.sort(compareNumbers);\n  if (positions.length < 2) {\n    throw new Error('Animation definitions must have at least two values.');\n  }\n  var compiled = {};\n  if (definition.easing) {\n    compiled.easing = definition.easing;\n  }\n  if (definition.style) {\n    compiled.style = definition.style;\n  }\n  var _loop = function _loop() {\n    var position = positions[i];\n    var keyframe = definition[position];\n    if (!keyframe) {\n      if (position === 0) {\n        keyframe = definition.from;\n      } else if (position === 1) {\n        keyframe = definition.to;\n      }\n    }\n    if (!keyframe) {\n      throw new Error('Missing animation keyframe, this should not happen');\n    }\n    keyframe = flattenStyle(keyframe);\n    Object.keys(keyframe).forEach(function (key) {\n      if (!(key in compiled)) {\n        compiled[key] = {\n          inputRange: [],\n          outputRange: []\n        };\n      }\n      compiled[key].inputRange.push(position);\n      compiled[key].outputRange.push(keyframe[key]);\n    });\n  };\n  for (var i = 0; i < positions.length; i += 1) {\n    _loop();\n  }\n  cache[cacheKey] = compiled;\n  return compiled;\n}","map":{"version":3,"names":["flattenStyle","compareNumbers","a","b","notNull","value","parsePosition","parsed","parseFloat","Number","isNaN","cache","createAnimation","definition","cacheKey","JSON","stringify","positions","Object","keys","map","filter","sort","length","Error","compiled","easing","style","_loop","position","i","keyframe","from","to","forEach","key","inputRange","outputRange","push"],"sources":["E:/SWD/AutonomousCars/node_modules/react-native-animatable/createAnimation.js"],"sourcesContent":["import flattenStyle from './flattenStyle';\r\n\r\nfunction compareNumbers(a, b) {\r\n  return a - b;\r\n}\r\n\r\nfunction notNull(value) {\r\n  return value !== null;\r\n}\r\n\r\nfunction parsePosition(value) {\r\n  if (value === 'from') {\r\n    return 0;\r\n  }\r\n  if (value === 'to') {\r\n    return 1;\r\n  }\r\n  const parsed = parseFloat(value, 10);\r\n  if (Number.isNaN(parsed) || parsed < 0 || parsed > 1) {\r\n    return null;\r\n  }\r\n  return parsed;\r\n}\r\n\r\nconst cache = {};\r\n\r\nexport default function createAnimation(definition) {\r\n  const cacheKey = JSON.stringify(definition);\r\n  if (cache[cacheKey]) {\r\n    return cache[cacheKey];\r\n  }\r\n\r\n  const positions = Object.keys(definition)\r\n    .map(parsePosition)\r\n    .filter(notNull);\r\n  positions.sort(compareNumbers);\r\n\r\n  if (positions.length < 2) {\r\n    throw new Error('Animation definitions must have at least two values.');\r\n  }\r\n\r\n  const compiled = {};\r\n  if (definition.easing) {\r\n    compiled.easing = definition.easing;\r\n  }\r\n  if (definition.style) {\r\n    compiled.style = definition.style;\r\n  }\r\n\r\n  for (let i = 0; i < positions.length; i += 1) {\r\n    const position = positions[i];\r\n    let keyframe = definition[position];\r\n    if (!keyframe) {\r\n      if (position === 0) {\r\n        keyframe = definition.from;\r\n      } else if (position === 1) {\r\n        keyframe = definition.to;\r\n      }\r\n    }\r\n    if (!keyframe) {\r\n      throw new Error('Missing animation keyframe, this should not happen');\r\n    }\r\n\r\n    keyframe = flattenStyle(keyframe);\r\n    Object.keys(keyframe).forEach(key => {\r\n      if (!(key in compiled)) {\r\n        compiled[key] = {\r\n          inputRange: [],\r\n          outputRange: [],\r\n        };\r\n      }\r\n      compiled[key].inputRange.push(position);\r\n      compiled[key].outputRange.push(keyframe[key]);\r\n    });\r\n  }\r\n\r\n  cache[cacheKey] = compiled;\r\n\r\n  return compiled;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}